(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f11ff5d","chunk-2d0c1594","chunk-2d0cf8d2","chunk-2d0c882a"],{4651:function(n,e,t){"use strict";t.r(e),t.d(e,"getApiT",(function(){return a}));t("7f7f");function a(n){return"\nimport request from '@/utils/request'\n\nexport function get_".concat(n.name,"(data) {\n    return request({\n        url: '").concat(n.app,"/").concat(n.controller,"/get_").concat(n.name,"',\n        method: 'post',\n        data\n    })\n}\n\nexport function update_").concat(n.name,"(data) {\n    return request({\n        url: '").concat(n.app,"/").concat(n.controller,"/update_").concat(n.name,"',\n        method: 'post',\n        data\n    })\n}\n\nexport function add_").concat(n.name,"(data) {\n    return request({\n        url: '").concat(n.app,"/").concat(n.controller,"/add_").concat(n.name,"',\n        method: 'post',\n        data\n    })\n}\n\nexport function delete_").concat(n.name,"(data) {\n    return request({\n        url: '").concat(n.app,"/").concat(n.controller,"/delete_").concat(n.name,"',\n        method: 'post',\n        data\n    })\n}")}},"54d9":function(n,e,t){"use strict";t.r(e),t.d(e,"getVueT",(function(){return a}));t("7f7f");function a(n){return'\n <template>\n    <div class="app-container">\n      <el-table :data="tableData" class="tip" border fit highlight-current-row style="width: 100%">\n        <el-table-column v-for="(item, key) in displayProps" :key="key" :label="item" width="150">\n          <template slot-scope="scope">\n            <span>{{ scope.row[key] }}</span>\n          </template>\n        </el-table-column>\n  \n        <el-table-column label="操作">\n          <template slot-scope="scope">\n            <el-button size="mini" type="primary" @click="modify(scope.row.id)">修改</el-button>\n            <el-button size="mini" type="danger" @click="deleteDong(scope.row.id)">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n  \n      <el-pagination\n        style="margin-top: 20px"\n        background\n        :current-page="query.currentPage"\n        :page-sizes="[10, 20, 50, 100, 200]"\n        :page-size="query.pageSize"\n        layout="total, sizes, prev, pager, next, jumper"\n        :total="total"\n        @size-change="pageSizeChange"\n        @current-change="pageChange"\n      />\n      \x3c!-- 弹出框 --\x3e\n      <el-dialog title="修改内容" :visible.sync="dialogFormVisible">\n        <el-form :model="form">\n          <el-form-item v-for="(item, key) in form" :key="key" :label="form[key].name" :label-width="formLabelWidth">\n            <el-input v-model="form[key].value" autocomplete="off" :disabled="key==\'id\'" />\n          </el-form-item>\n        </el-form>\n  \n        <div slot="footer" class="dialog-footer">\n          <el-button @click="dialogFormVisible = false">取 消</el-button>\n          <el-button type="primary" @click="confirm">确 定</el-button>\n        </div>\n      </el-dialog>\n  \n      <el-dialog\n        title="提示"\n        :visible.sync="dialogVisibleDelete"\n        width="30%"\n      >\n        <span>确定要删除当前动态吗？id:{{ deleteId }}</span>\n        <span slot="footer" class="dialog-footer">\n          <el-button @click="dialogVisibleDelete = false">取 消</el-button>\n          <el-button type="primary" @click="confirmDelete">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </template>\n  \n  <script>\n  import { get_'.concat(n.name," } from '@/api/").concat(n.name,"'\n  import _ from 'underscore'\n  \n  export default {\n    filters: {\n      topicFilter(e) {\n        return _.pluck(e, 'topic').toString()\n      }\n    },\n    data() {\n      return {\n        displayProps: {\n          id: 'id',\n          consume_amount: '讨论标题',\n          create_date: '简介',\n          state: '状态'\n        },\n        dialogFormVisible: false,\n        dialogVisibleDelete: false,\n        tableData: [\n        ],\n        form: {\n        },\n        formLabelWidth: 'auto',\n        total: 0,\n        query: {\n          pageSize: 10,\n          currentPage: 1\n        },\n        deleteId: ''\n      }\n    },\n    mounted: function() {\n      this.refresh()\n    },\n    methods: {\n      viewMore(index) {\n  \n      },\n      pageSizeChange(e) {\n        this.query.pageSize = e\n        this.refresh()\n      },\n      pageChange(e) {\n        this.query.currentPage = e\n        this.refresh()\n      },\n      deleteDong(id) {\n        this.dialogVisibleDelete = true\n        this.deleteId = id\n      },\n      refresh() {\n        var that = this\n        get_").concat(n.name,"(that.query).then(res => {\n          that.tableData = res.data.data\n          that.total = res.data.total\n          // console.log(res)\n        })\n      },\n      modify(id) {\n        const that = this\n        this.dialogFormVisible = true\n        this.form = _.find(that.tableData, item => {\n          return item.id === id\n        })\n        const obj = {}\n        for (const iterator in that.displayProps) {\n          obj[iterator] = {\n            value: that.form[iterator],\n            name: that.displayProps[iterator]\n          }\n        }\n        this.form = obj\n        console.log(obj)\n      },\n      confirmDelete() {\n  \n      },\n      confirm() {\n        /* const that = this\n        updateCase(this.form).then(res => {\n          if (res.code === 20000) {\n            this.$message(res.data.msg)\n            that.dialogFormVisible = false\n            that.refresh()\n          }\n        }) */\n      }\n    }\n  }\n  <\/script>\n  \n  <style scoped>\n  \n  </style>\n  ")}},6239:function(n,e,t){"use strict";t.r(e);var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"app-container"},[t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"php"}},[t("div",{ref:"php"},[t("pre",[n._v("          "),t("code",{staticClass:"php"},[n._v("\n              "+n._s(n.myPHP)+"\n          ")]),n._v("\n        ")])])]),n._v(" "),t("el-tab-pane",{attrs:{label:"vue"}},[t("div",{ref:"vue"},[t("pre",[n._v("            "),t("code",{staticClass:"vue"},[n._v("\n                "+n._s(n.myVUE)+"\n            ")]),n._v("\n          ")])])]),n._v(" "),t("el-tab-pane",{attrs:{label:"api"}},[t("div",{ref:"api"},[t("pre",[n._v("          "),t("code",{staticClass:"javascript"},[n._v("\n              "+n._s(n.myJS)+"\n          ")]),n._v("\n        ")])])])],1)],1)},o=[],r=(t("ac6a"),t("4651")),i=t("63cb"),l=t("54d9"),s=t("1487"),c=t.n(s),u=(t("6e2e"),{data:function(){return{myJS:"",myPHP:"",myVUE:""}},created:function(){var n=this.$route.query.tableName,e={app:"admin",controller:n+"_controller",name:n};this.myJS=Object(r["getApiT"])(e),this.myPHP=Object(i["getPhpT"])(e),this.myVUE=Object(l["getVueT"])(e)},mounted:function(){this.initCode("php"),this.initCode("vue"),this.initCode("api")},methods:{initCode:function(n){var e=this.$refs[n].querySelectorAll("pre code");e.forEach((function(n){c.a.highlightBlock(n)}))}}}),p=u,d=t("2877"),m=Object(d["a"])(p,a,o,!1,null,"5cabff50",null);e["default"]=m.exports},"63cb":function(n,e,t){"use strict";t.r(e),t.d(e,"getPhpT",(function(){return a}));t("7f7f");function a(n){var e=n.controller;return e=e.charAt(0).toUpperCase()+e.slice(1),"\n    <?php\n\n    namespace app\\".concat(n.app,"\\controller;\n    \n    use app\\BaseController;\n    use think\\Request;\n    use app\\utils\\ReturnJson;\n    use app\\utils\\RequestUrl;\n    use think\\facade\\Config;\n    use think\\facade\\Db;\n    \n    class ").concat(e," extends BaseController\n    {\n         \n        public function get_").concat(n.name,"(Request $request)\n        {\n            if ($request->method() == 'OPTIONS') {\n                exit('options类型的请求，结束');\n            }\n    \n            $bannerList = Db::table('").concat(n.name,"')->select()->paginate([\n                'list_rows'=> $request->post()[\"pageSize\"],\n                'page' => $request->post()[\"currentPage\"]\n            ]);\n    \n            $re = new ReturnJson($bannerList);\n            return json($re->json);\n        }\n    \n        public function update_").concat(n.name,"(Request $request)\n        {\n            if ($request->method() == 'OPTIONS') {\n                exit('options类型的请求，结束');\n            }\n    \n            $data = $request->post();\n            $result = $data;\n            unset($result['id']);\n            Db::table('").concat(n.name,'\')\n                ->where(\'id\', $data["id"])\n                ->update($result);\n    \n            $re = new ReturnJson(["msg"=>"更新成功"]);\n            return json($re->json);\n        }\n    }')}}}]);