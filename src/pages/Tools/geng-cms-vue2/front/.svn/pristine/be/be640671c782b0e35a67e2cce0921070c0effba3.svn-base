(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a6a0c93"],{"2b57":function(t,e,l){"use strict";var o=l("a864"),a=l.n(o);a.a},a864:function(t,e,l){},a8bd:function(t,e,l){"use strict";l.r(e);var o=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-table",{staticClass:"tip",staticStyle:{width:"100%"},attrs:{data:t.tableData}},[l("el-table-column",{attrs:{label:"左边名字",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.left_name))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"中间名字",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.middle_name))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"右边名字",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.right_name))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"左边颜色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.left_color))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"右边颜色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.right_color))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"背景图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("img",{attrs:{width:"120",src:t.row.url,alt:""}})]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作"}},[[l("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改")])],t._v(" "),[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.deleteVote}},[t._v("清除投票数据")])],t._v(" "),[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.stopVote}},[t._v("暂停/开启投票")])]],2)],1),t._v(" "),l("el-dialog",{attrs:{title:"修改内容",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"左边名字","label-width":t.formLabelWidth}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.left_name,callback:function(e){t.$set(t.form,"left_name",e)},expression:"form.left_name"}})],1)],1),t._v(" "),l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"中间名字","label-width":t.formLabelWidth}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.middle_name,callback:function(e){t.$set(t.form,"middle_name",e)},expression:"form.middle_name"}})],1)],1),t._v(" "),l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"右边名字","label-width":t.formLabelWidth}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.right_name,callback:function(e){t.$set(t.form,"right_name",e)},expression:"form.right_name"}})],1)],1),t._v(" "),l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"左边颜色","label-width":t.formLabelWidth}},[l("el-color-picker",{model:{value:t.form.left_color,callback:function(e){t.$set(t.form,"left_color",e)},expression:"form.left_color"}})],1)],1),t._v(" "),l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"右边颜色","label-width":t.formLabelWidth}},[l("el-color-picker",{model:{value:t.form.right_color,callback:function(e){t.$set(t.form,"right_color",e)},expression:"form.right_color"}})],1)],1),t._v(" "),l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"背景图片","label-width":t.formLabelWidth}},[l("el-upload",{attrs:{action:t.server,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.handleSuccess,limit:1}},[l("i",{staticClass:"el-icon-plus"})]),t._v(" "),l("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"修改投票状态",visible:t.dialogFormVisibleStop},on:{"update:visible":function(e){t.dialogFormVisibleStop=e}}},[l("el-form",{attrs:{model:t.form}},[l("el-form-item",{attrs:{label:"0"==t.form.stop?"开启投票":"暂停投票","label-width":t.formLabelWidth}},[l("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"0","inactive-value":"1"},on:{change:t.changeVote},model:{value:t.form.stop,callback:function(e){t.$set(t.form,"stop",e)},expression:"form.stop"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisibleStop=!1}}},[t._v("确 定")])],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"提示",visible:t.dialogVisibleDelete,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleDelete=e}}},[l("span",[t._v("确定要删除所有投票数据？")]),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisibleDelete=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.confirmDelete}},[t._v("确 定")])],1)])],1)},a=[],i=l("b775");function r(){return Object(i["a"])({url:"admin/tip/getTip",method:"get"})}function n(t){return Object(i["a"])({url:"admin/tip/updateTip",method:"post",data:t})}function s(){return Object(i["a"])({url:"admin/tip/deleteVote",method:"post"})}function c(t){return Object(i["a"])({url:"admin/tip/changeVoteStatus",method:"post",data:{stop:t}})}var m={data:function(){return{dialogFormVisible:!1,dialogFormVisibleStop:!1,dialogVisibleDelete:!1,dialogImageUrl:"",dialogVisible:!1,limit:1,server:"https://cmsapi.doctormeeting.com/admin/tip/uploadPhoto",tableData:[{left_name:"2016-05-02",middle_name:"王小虎",right_name:"上海市普陀区金沙江路 1518 弄",left_color:"red",right_color:"yellow",url:""}],form:{left_name:"2016-05-02",middle_name:"王小虎",right_name:"上海市普陀区金沙江路 1518 弄",left_color:"red",right_color:"yellow",url:"",stop:!1},value:!0,formLabelWidth:"auto"}},mounted:function(){var t=this;r().then((function(e){console.log(e),t.tableData[0].left_name=e.data.left_name,t.tableData[0].middle_name=e.data.middle_name,t.tableData[0].right_name=e.data.right_name,t.tableData[0].left_color=e.data.left_color,t.tableData[0].right_color=e.data.right_color,t.tableData[0].url=e.data.url,t.form=e.data}))},methods:{changeVote:function(){var t=this;console.log(t.form.stop),c(t.form.stop).then((function(t){console.log(t)}))},stopVote:function(){var t=this;t.dialogFormVisibleStop=!0},deleteVote:function(){var t=this;t.dialogVisibleDelete=!0},confirmDelete:function(){var t=this;s().then((function(e){console.log(e),t.dialogVisibleDelete=!1}))},handleRemove:function(t,e){console.log(t,e)},handleSuccess:function(t,e,l){console.log(t),this.form.url=t.data.url},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},confirm:function(){var t=this;n(t.form).then((function(e){console.log(e),"ok"===e.status&&(t.dialogFormVisible=!1,t.tableData[0].left_name=e.data.left_name,t.tableData[0].middle_name=e.data.middle_name,t.tableData[0].right_name=e.data.right_name,t.tableData[0].left_color=e.data.left_color,t.tableData[0].right_color=e.data.right_color,t.tableData[0].url=e.data.url)}))},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)}}},d=m,f=(l("2b57"),l("2877")),u=Object(f["a"])(d,o,a,!1,null,"da1f7ce2",null);e["default"]=u.exports}}]);